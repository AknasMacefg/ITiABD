package org.calc.calc;

import org.junit.jupiter.api.Test;
import org.junit.jupiter.api.DisplayName;
import static org.junit.jupiter.api.Assertions.*;

/**
 * Модульные тесты для класса CalcProcesses.
 * Тестирует расчеты по закону Ома: напряжение, ток и сопротивление.
 */
@DisplayName("Тесты для CalcProcesses (закон Ома)")
public class CalcProcessesTest {

    /**
     * Тест расчета напряжения по закону Ома (V = I * R).
     * Проверяет корректность вычисления напряжения при известных токе и сопротивлении.
     */
    @Test
    @DisplayName("Тест расчета напряжения V = I * R")
    public void testVCalc() {
        // Тест 1: Базовый расчет (10 Ом * 2 А = 20 В)
        String result1 = CalcProcesses.VCalc("10", "2", "Ом", "А", "В");
        assertEquals("20.0", result1, "Напряжение должно быть 20 В");

        // Тест 2: Расчет с миллиамперами и килоомами
        // 1 кОм = 1000 Ом, 5 мА = 0.005 А, результат: 1000 * 0.005 = 5 В
        String result2 = CalcProcesses.VCalc("1", "5", "кОм", "мА", "В");
        assertEquals("5.0", result2, "Напряжение должно быть 5 В");

        // Тест 3: Расчет с мегаомами
        // 2 МОм = 20000000 Ом, 0.001 А = 0.001 А, результат: 20000000 * 0.001 = 20000 В
        String result3 = CalcProcesses.VCalc("2", "0.001", "МОм", "А", "В");
        assertEquals("20000.0", result3, "Напряжение должно быть 20000 В");
    }

    /**
     * Тест расчета силы тока по закону Ома (I = V / R).
     * Проверяет корректность вычисления тока при известных напряжении и сопротивлении.
     */
    @Test
    @DisplayName("Тест расчета силы тока I = V / R")
    public void testACalc() {
        // Тест 1: Базовый расчет (12 В / 4 Ом = 3 А)
        String result1 = CalcProcesses.ACalc("12", "4", "Ом", "А", "В");
        assertEquals("3.0", result1, "Ток должен быть 3 А");

        // Тест 2: Расчет с киловольтами и килоомами
        // 5 кВ = 5000 В, 2 кОм = 2000 Ом, результат: 5000 / 2000 = 2.5 А
        String result2 = CalcProcesses.ACalc("5", "2", "кОм", "А", "кВ");
        assertEquals("2.5", result2, "Ток должен быть 2.5 А");

        // Тест 3: Расчет с милливольтами и мегаомами
        // 100 мВ = 0.1 В, 1 МОм = 10000000 Ом, результат: 0.1 / 10000000 = 0.00000001 А = 0.01 мкА
        String result3 = CalcProcesses.ACalc("100", "1", "МОм", "мА", "мВ");
        // 0.1 / 10000000 = 0.00000001 А = 0.00001 мА
        assertEquals("0.00001", result3, "Ток должен быть 0.00001 мА");
    }

    /**
     * Тест расчета сопротивления по закону Ома (R = V / I).
     * Проверяет корректность вычисления сопротивления при известных напряжении и токе.
     */
    @Test
    @DisplayName("Тест расчета сопротивления R = V / I")
    public void testOMCalc() {
        // Тест 1: Базовый расчет (24 В / 3 А = 8 Ом)
        String result1 = CalcProcesses.OMCalc("24", "3", "Ом", "А", "В");
        assertEquals("8.0", result1, "Сопротивление должно быть 8 Ом");

        // Тест 2: Расчет с киловольтами и миллиамперами
        // 10 кВ = 10000 В, 5 мА = 0.005 А, результат: 10000 / 0.005 = 2000000 Ом = 2 МОм
        String result2 = CalcProcesses.OMCalc("10", "5", "МОм", "мА", "кВ");
        assertEquals("2.0", result2, "Сопротивление должно быть 2 МОм");
    }
}





